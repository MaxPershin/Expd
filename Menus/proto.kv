#:import NoTransition kivy.uix.screenmanager.NoTransition
#:import ZBarSymbol pyzbar.pyzbar.ZBarSymbol
<UtilWidget>:
	canvas.before:
		Color:
			rgb: 0, 0, 0
		Rectangle:
			pos: self.pos
			size: self.size
	orientation: "horizontal"
	cols: 3
	spacing: 1
	padding: 1
	row_default_height: root.height
	Label:
		id: art
		canvas.before:
			Color:
				rgb: .694, .812, .439
			Rectangle:
				pos: self.pos
				size: self.size
		text: '12345'
		size_hint_x: .3
		font_size: "21sp"
	Label:
		id: name
		canvas.before:
			Color:
				rgb: .694, .812, .439
			Rectangle:
				pos: self.pos
				size: self.size
		text: ''
		text_size: self.width - 8, None
		valign: 'top'
		halign: 'left'
		font_size: "24sp"
		pos_hint:{"center_x": .5,"center_y":.5}
		size_hint_x: .7
		on_size: root.scaleAdapter(self)
<CheckLabel>:
	id: checker
	canvas.before:
		Color:
			rgb: .3, .812, .439
		Rectangle:
			pos: self.pos
			size: self.size
	text: 'x'
	font_name: 'src/etc/mp.ttf'
	size_hint_x: .1
	font_size: "30sp"
<SearchWidget>:
	canvas.before:
		Color:
			rgb: 0, 0, 0
		Rectangle:
			pos: self.pos
			size: self.size
	size_hint_x: .8
	size_hint_y: 1
	pos_hint: {"center_x":.5,"center_y":.2}
	orientation: "horizontal"
	cols: 2
	spacing: 1
	padding: 1
	BoxLayout:
		id: suppaboxer
		orientation: "vertical"
		raws: 2
		size_hint_x: .3
		spacing: 1
		Label:
			id: article
			canvas.before:
				Color:
					rgb: .694, .812, .439
				Rectangle:
					pos: self.pos
					size: self.size
			text: ''
			font_size: "21sp"
			pos_hint:{"center_x": .5,"center_y":.5}
		Label:
			id: date
			canvas.before:
				Color:
					rgb: .694, .812, .439
				Rectangle:
					pos: self.pos
					size: self.size
			text: 'N/A'
			font_size: "21sp"
			pos_hint:{"center_x": .5,"center_y":.5}
	Label:
		id: name
		canvas.before:
			Color:
				rgb: .694, .812, .439
			Rectangle:
				pos: self.pos
				size: self.size
		text: ''
		text_size: self.width - 8, None
		valign: 'top'
		halign: 'left'
		font_size: '26sp'
		pos_hint:{"center_x": .5,"center_y":.5}
		size_hint_x: .7
		on_size: root.scaleAdapter(self)
<SuppaLabel>:
	canvas.before:
		Color:
			rgb: 0, .8, .4,
		Rectangle:
			pos: self.pos
			size: self.size
	text: 'LMAO'
	size_hint_y: None
	height: root.container1
	font_size: root.container2
<Reader>:
	orientation: 'vertical'
	pos_hint: root.hinter
	canvas.before:
		Color:
			rgb: 1, .65, .18
		Rectangle:
			pos: self.pos
			size: self.size
	ZBarCam:
		id: zbarcam
		code_types: ZBarSymbol.QRCODE, ZBarSymbol.EAN13
	Button:
		text: 'exit'
		pos_hint: {"center_x": .5,"center_y": 1}
		size_hint: (.4, .1)
		font_size: '25sp'
		on_release: root.stop_cam("NO")
	Label:
		size_hint: None, None
		size: self.texture_size[0], 50
		text: ', '.join([str(symbol.data) for symbol in zbarcam.symbols])
		on_text: root.stop_cam(self.text)
<Core>:
	orientation: "vertical"
	FloatLayout:
		canvas.before:
			Color:
				rgb: 1, .65, .18
			Rectangle:
				pos: self.pos
				size: self.size
		size_hint_y: 10
		Image:
			source: 'src/img/head.png'
			size_hint: (1, 1)
			pos_hint: {"center_x": .5,"center_y": .5}
		Button:
			id: warner
			border: 0,0,0,0
			background_normal: ''
			background_color: 1, .35, .35, 1
			halign: 'center'
			valign: "middle"
			text: root.t_we_have_expired
			text_size: self.size
			size_hint: (.8, 1)
			font_size: "25sp"
			pos_hint: {"center_x": .4,"center_y": 2}
			on_press: root.ids.fi.state = 'normal'
			on_press: root.ids.se.state = 'normal'
			on_press: root.ids.th.state = 'normal'
			on_press: root.ids.fo.state = 'normal'
			on_press: root.ids.mana.current = "old_arts"
			on_press: root.alarm_out()
			on_press: root.put_trash()
		Button:
			canvas.before:
		        Color:
					rgba: 0, 0, 0, 1
				Line:
					width: 2
					rectangle: self.x, self.y, 0, self.height
			id: warner2
			border: 0,0,0,0
			background_normal: ''
			background_color: 1, .35, .35, 1
			halign: 'center'
			valign: "middle"
			text: 'X'
			text_size: self.size
			size_hint: (.2, 1)
			font_size: "25sp"
			pos_hint: {"center_x": .9,"center_y": 2}
			on_press: root.alarm_out()
	ScreenManagement:
		transition: NoTransition()
		id: mana
		size_hint_y: 82
		Screen:
			name: 'work'
			FloatLayout:
				id: summertime
				canvas:
					Color:
						rgb: .886, .949, .671
					Rectangle:
						size: self.size
						pos: self.pos
				Label:
					canvas.before:
						Color:
							rgba: 0, .8, .4, 0
						Rectangle:
							size: self.size
							pos: self.pos
					color: 0, 0, 0, 1
					halign: 'center'
					valign: "middle"
					text: root.worktext
					text_size: self.size
					size_hint: (.8, .15)
					font_size: "25sp"
					pos_hint:{"center_x": .5,"center_y":.92}
				Label:
					canvas.before:
						Color:
							rgb: 0, .8, .4
						Rectangle:
							size: self.size
							pos: self.pos
					halign: 'center'
					valign: "middle"
					text: root.scanned_EAN_text
					text_size: self.size
					size_hint: (.8, .07)
					font_size: "15sp"
					pos_hint: root.pos_scanned_EAN
				Label:
					canvas.before:
						Color:
							rgb: 0, .8, .4
						Rectangle:
							size: self.size
							pos: self.pos
					halign: 'center'
					valign: "middle"
					text: 'Неизвестный EAN! Введите артикул для ассоциации'
					text_size: self.size
					size_hint: (.8, .07)
					font_size: "15sp"
					pos_hint: root.pos_unknown_EAN
				ToggleButton:
					allow_no_selection: False
					group: 'before_after'
					state: 'down'
					text: root.t_ot
					size_hint: (.3, .06)
					background_down: 'src/img/w_b.png'
					pos_hint: root.pos_before_after1
					on_press: root.switch_before_after('before')
				ToggleButton:
					allow_no_selection: False
					group: 'before_after'
					text: root.t_do
					size_hint: (.3, .06)
					background_down: 'src/img/w_b.png'
					pos_hint: root.pos_before_after2
					on_press: root.switch_before_after('after')
				ToggleButton:
					allow_no_selection: False
					state: 'down'
					group: 'day_month_year'
					state: 'down'
					text: root.t_day
					size_hint: (.3, .06)
					background_down: 'src/img/w_b.png'
					pos_hint: root.pos_day_month_year1
					on_press: root.day_or_what_changer('day')
				ToggleButton:
					allow_no_selection: False
					group: 'day_month_year'
					text: root.t_month
					size_hint: (.3, .06)
					background_down: 'src/img/w_b.png'
					pos_hint: root.pos_day_month_year2
					on_press: root.day_or_what_changer('month')
				ToggleButton:
					allow_no_selection: False
					group: 'day_month_year'
					text: root.t_year
					size_hint: (.3, .06)
					background_down: 'src/img/w_b.png'
					pos_hint: root.pos_day_month_year3
					on_press: root.day_or_what_changer('year')
				TextInput:
					font_size: "65sp"
					id: inputer
					multiline: False
					size_hint: (.8, .15)
					pos_hint: root.g_input
				TextInput:
					font_size: "65sp"
					id: ex_inputer
					multiline: False
					size_hint: (.2, .15)
					pos_hint:root.ex_input1
				TextInput:
					font_size: "65sp"
					id: ex_inputer2
					multiline: False
					size_hint: (.2, .15)
					pos_hint: root.ex_input2
				TextInput:
					font_size: "65sp"
					id: ex_inputer3
					hint_text: root.yez
					multiline: False
					size_hint: (.4, .15)
					pos_hint: root.ex_input3
				Button:
					font_name: 'src/etc/mp.ttf'
					text: '>'
					font_size: '70sp'
					border: 0,0,0,0
					pos_hint: {'center_x': .72, 'center_y': .53}
					size_hint: (.24, .15)
					background_normal: "src/img/edit.png"
					background_down: "src/img/edit.png"
					on_release:
						root.press += 1
						root.catch_art()
				Button:
					font_name: 'src/etc/mp.ttf'
					text: 'R'
					font_size: '70sp'
					border: 0,0,0,0
					pos_hint: {'center_x': .5, 'center_y': .53}
					size_hint: (.24, .15)
					background_normal: "src/img/edit.png"
					background_down: "src/img/edit.png"
					on_release:
						root.repeat()

				Button:
					background_down: 'src/img/w_b.png'
					color: 1,1,1,1
					font_size: '90sp'
					text: "A"
					font_name: 'src/etc/mp.ttf'
					pos_hint: root.pos_init_cam
					size_hint: (.23, .148)
					on_release:
						root.go_cam()
				Button:
					font_name: 'src/etc/mp.ttf'
					text: '<'
					font_size: '70sp'
					pos_hint: {'center_x': .28, 'center_y': .53}
					border: 0,0,0,0
					size_hint: (.24, .15)
					background_normal: "src/img/edit.png"
					background_down: "src/img/edit.png"
					on_release: root.previous()
					on_release: root.dater_invisible()
					on_release: root.show_buttons_before_after('hide')
					on_release: root.ids.ex_inputer.text = ''
					on_release: root.ids.ex_inputer2.text = ''
					on_release: root.step = 0
				GridLayout:
					cols: 3
					size_hint_y: .4
					size_hint_x: .8
					pos_hint: {'center_x': .5, 'center_y': .25}
					canvas:
						Color:
							rgba: root.buttons_color
						Rectangle:
							pos: self.pos
							size: self.size
					Button:
						text: "1"
						background_down: 'src/img/w_b.png'
						font_size: '40sp'
						on_release: root.type('1')
					Button:
						text: "2"
						background_down: 'src/img/w_b.png'
						font_size: '40sp'
						on_release: root.type('2')
					Button:
						text: "3"
						background_down: 'src/img/w_b.png'
						font_size: '40sp'
						on_release: root.type('3')
					Button:
						text: "4"
						background_down: 'src/img/w_b.png'
						font_size: '40sp'
						on_release: root.type('4')
					Button:
						text: "5"
						background_down: 'src/img/w_b.png'
						font_size: '40sp'
						on_release: root.type('5')
					Button:
						text: "6"
						background_down: 'src/img/w_b.png'
						font_size: '40sp'
						on_release: root.type('6')
					Button:
						text: "7"
						background_down: 'src/img/w_b.png'
						font_size: '40sp'
						on_release: root.type('7')
					Button:
						text: "8"
						background_down: 'src/img/w_b.png'
						font_size: '40sp'
						on_release: root.type('8')
					Button:
						text: "9"
						background_down: 'src/img/w_b.png'
						font_size: '40sp'
						on_release: root.type('9')
					Button:
						text: "CLS"
						background_down: 'src/img/w_b.png'
						font_size: '40sp'
						on_release: root.type('CLS')
					Button:
						text: "0"
						background_down: 'src/img/w_b.png'
						font_size: '40sp'
						on_release: root.type('0')
					Button:
						text: "<<"
						background_down: 'src/img/w_b.png'
						font_size: '40sp'
						on_release: root.type('<<')
		Screen:
			name: 'database'
			FloatLayout:
				canvas:
					Color:
						rgb: .886, .949, .671
					Rectangle:
						size: self.size
						pos: self.pos

			Label:
				halign: 'center'
				valign: "middle"
				text: 'База данных'
				text_size: self.size
				size_hint: (.8, .07)
				color: 0, 0, 0, 1
				font_size: "28sp"
				pos_hint: {'center_x': .5, 'center_y': .93}
			Button:
				text: '+'
				font_name: 'src/etc/mp.ttf'
				font_size: '75sp'
				border: 0,0,0,0
				pos_hint: {'center_x': .5, 'center_y': .07}
				size_hint: (.24, .15)
				background_normal: "src/img/edit.png"
				background_down: "src/img/edit.png"
				on_release:
					root.create_new()
			Button:
				pos_hint: {'center_x': .848, 'center_y': .8}
				size_hint: (.2, .113)
				text: 's'
				font_name: 'src/etc/mp.ttf'
				font_size: '60sp'
				background_normal: 'src/img/w_b.png'
				on_release:
					root.get_them(0)
			TextInput:
				font_size: "28sp"
				hint_text: root.t_search
				id: searcher
				multiline: False
				size_hint: (.7, .11)
				pos_hint:{"center_x":.40,"center_y":.8}
			ScrollView:
				size_hint_x: .95
				size_hint_y: .58
				pos_hint: {'center_x': .5, 'center_y': .435}
				GridLayout:
					id: griddy
					canvas:
						Rectangle:
							pos: self.pos
							size: self.size
							source: "src/img/cleanbl.png"
					row_default_height: root.height/6 #row size control
					spacing: 2
					cols: 1
					size_hint_y: None
					height: 0
		Screen:
			name: 'today'
			FloatLayout:
				canvas:
					Color:
						rgb: .886, .949, .671
					Rectangle:
						size: self.size
						pos: self.pos
						source: 'src/img/back.png'
				Label:
					halign: 'center'
					valign: "middle"
					text: 'Сроки годности'
					text_size: self.size
					size_hint: (.8, .07)
					color: 0, 0, 0, 1
					font_size: "28sp"
					pos_hint: {'center_x': .5, 'center_y': .965}
				Button:
					id: posrok_button
					border: 0,0,0,0
					text: root.t_expired
					size_hint: (.3, .06)
					background_normal: ''
					background_color: .92, 0, 0, 1
					pos_hint: root.prosrochka_button
					on_press: root.ids.fi.state = 'normal'
					on_press: root.ids.se.state = 'normal'
					on_press: root.ids.th.state = 'normal'
					on_press: root.ids.fo.state = 'normal'
					on_press: root.ids.mana.current = "old_arts"
					on_press: root.put_trash()
				#togglers
				ToggleButton:
					id: bom_bom_bom
					allow_no_selection: False
					state: 'down'
					background_down: 'src/img/w_b.png'
					group: 'which_trash'
					state: 'down'
					text: root.t_today
					size_hint: (.3, .06)
					pos_hint: {"center_x": .2,"center_y":.9}
					on_press: root.show_rangers(False)
					on_press: root.show_el(False)
					on_press: root.define_today_art('today')
					on_press: root.reshape_today_scroll('today')
				ToggleButton:
					id: bom_bom_bom2
					allow_no_selection: False
					group: 'which_trash'
					background_down: 'src/img/w_b.png'
					text: root.t_random
					size_hint: (.3, .06)
					pos_hint: {"center_x": .5,"center_y":.9}
					on_press: root.show_rangers(False)
					on_press: root.show_el(True)
					on_press: root.define_today_art('another')
					on_press: root.reshape_today_scroll('any')
				ToggleButton:
					id: bom_bom_bom3
					allow_no_selection: False
					group: 'which_trash'
					background_down: 'src/img/w_b.png'
					text: root.t_period
					size_hint: (.3, .06)
					pos_hint: {"center_x": .8,"center_y":.9}
					on_press: root.show_rangers(True)
					on_press: root.show_el(False)
					on_press: root.define_today_art('range')
					on_press: root.reshape_today_scroll('range')
				TextInput:
					font_size: "28sp"
					id: to_d1
					hint_text: root.t_dd
					multiline: False
					size_hint: (.11, .08)
					pos_hint: root.pos_el1
					on_text: root.extra_checker('dd')
				TextInput:
					font_size: "28sp"
					id: to_d2
					hint_text: root.t_mm
					multiline: False
					size_hint: (.11, .08)
					pos_hint: root.pos_el2
					on_text: root.extra_checker('mm')
				TextInput:
					font_size: "28sp"
					id: to_d3
					hint_text: root.current_year
					multiline: False
					size_hint: (.2, .08)
					pos_hint: root.pos_el3
					on_text: root.extra_checker('yy')
##################################################################################
				TextInput:
					font_size: "18sp"
					id: to_range1
					hint_text: root.t_dd
					multiline: False
					size_hint: (.11, .05)
					pos_hint: root.ranger1
					on_text: root.extra_checker2('1dd')
				TextInput:
					font_size: "18sp"
					id: to_range2
					hint_text: root.t_mm
					multiline: False
					size_hint: (.11, .05)
					pos_hint: root.ranger2
					on_text: root.extra_checker2('1mm')
				TextInput:
					font_size: "18sp"
					id: to_range3
					hint_text: root.current_year
					multiline: False
					size_hint: (.2, .05)
					pos_hint: root.ranger3
					on_text: root.extra_checker2('1yy')
				TextInput:
					font_size: "18sp"
					id: to_range4
					hint_text: root.t_dd
					multiline: False
					size_hint: (.11, .05)
					pos_hint: root.ranger4
					on_text: root.extra_checker2('2dd')
				TextInput:
					font_size: "18sp"
					id: to_range5
					hint_text: root.t_mm
					multiline: False
					size_hint: (.11, .05)
					pos_hint: root.ranger5
					on_text: root.extra_checker2('2mm')
				TextInput:
					font_size: "18sp"
					id: to_range6
					hint_text: root.current_year
					multiline: False
					size_hint: (.2, .05)
					pos_hint: root.ranger6
					on_text: root.extra_checker2('2yy')
				Button:
					font_size: "60sp"
					font_name: 'src/etc/mp.ttf'
					text: 's'
					background_down: 'src/img/w_b.png'
					size_hint: (.31, .11)
					pos_hint: root.ranger7
					on_release: root.ranger_main()
######################################################################################
				Label:
					canvas.before:
						Color:
							rgb: .58, .84, 0
						Rectangle:
							pos: self.pos
							size: self.size
					font_size: "18sp"
					text: root.t_ot + ':'
					size_hint: (.1, .05)
					pos_hint: root.ranger8
				Label:
					canvas.before:
						Color:
							rgb: .58, .84, 0
						Rectangle:
							pos: self.pos
							size: self.size
					font_size: "18sp"
					text: root.t_do + ':'
					size_hint: (.1, .05)
					pos_hint: root.ranger9
				Button:
					font_name: 'src/etc/mp.ttf'
					text: 's'
					font_size: '60sp'
					size_hint: (.3, .08)
					background_down: 'src/img/w_b.png'
					pos_hint: root.pos_el4
					on_press: root.define_another_art()
				ScrollView:
					size_hint_x: root.shx_today_scroll
					size_hint_y: root.shy_today_scroll
					pos_hint: root.ph_today_scroll
					BoxLayout:
						orientation: "vertical"
						id: griddy4
						canvas:
							Rectangle:
								pos: self.pos
								size: self.size
								source: "src/img/cleanbl.png"
						spacing: 2
						cols: 1
						size_hint_y: None
						height: 0
				Label:
					pos_hint: {'center_x': .5, 'center_y': .5}
					text: root.sp_text
					font_size: "20sp"
					size_hint: (.8, .3)
					canvas.before:
						Color:
							rgba: root.col
						Rectangle:
							pos: self.pos
							size: self.size
				Button:
					background_down: 'src/img/w_b.png'
					font_name: 'src/etc/mp.ttf'
					text: 'I'
					font_size: '60sp'
					pos_hint: root.pos_el5
					size_hint: (.3, .113)
					on_release:
						root.trash_out()
		Screen:
			name: 'information'
			FloatLayout:
				id: info_canvas
				canvas:
					Color:
						rgb: .886, .949, .671
					Rectangle:
						size: self.size
						pos: self.pos

				Label:
					id: ghost
					size: self.texture_size
					text: "Нажмите обновить"
					font_size: "60sp"
					pos_hint:{"center_x":.5,"center_y":.88}
				Label:
					id: ghost2
					size: self.texture_size
					text: ""
					font_size: "30sp"
					pos_hint:{"center_x":.5,"center_y":.80}
				Label:
					id: ghost4
					size: self.texture_size
					text: ""
					font_size: "30sp"
					pos_hint:{"center_x":.5,"center_y":.75}
				Label:
					id: ghost5
					size: self.texture_size
					text: ''
					font_size: "30sp"
					pos_hint: {"center_x":.5, "center_y":.70}
				ScrollView:
					size_hint_x: 0.9
					size_hint_y: 0.48
					pos_hint: {'center_x': .5, 'center_y': .41}
					GridLayout:
						id: ghost3
						canvas:
							Rectangle:
								pos: self.pos
								size: self.size
								source: "src/img/cleanbl.png"
						spacing: 2
						cols: 4
						size_hint_y: None
						height: 0
				Button:
					border: 0,0,0,0
					pos_hint: {'center_x': .8, 'center_y': .1}
					size_hint: (.24, .15)
					background_normal: "src/img/edit.png"
					background_down: "src/img/butp.png"
					on_release:
						root.init_edit()
				Button:
					border: 0,0,0,0
					pos_hint: {'center_x': .2, 'center_y': .1}
					size_hint: (.24, .15)
					background_normal: "src/img/arrow_previous.png"
					background_down: "src/img/butp.png"
					on_release: root.ids.mana.current = "database"
		Screen:
			name: 'edit'
			FloatLayout:
				id: canvas
				canvas:
					Color:
						rgb: .886, .949, .671
					Rectangle:
						size: self.size
						pos: self.pos

				Label:
					size: self.texture_size
					text: root.t_edit
					font_size: "40sp"
					pos_hint:{"center_x":.5,"center_y":.9}
				TextInput:
					id: name
					text: "Обновите информацию"
					multiline: False
					size_hint: (.5, .05)
					pos_hint:{"center_x":.3,"center_y":.8}
				TextInput:
					id: article
					text: "Обновите информацию"
					multiline: False
					size_hint: (.5, .05)
					pos_hint:{"center_x":.3,"center_y":.7}
				TextInput:
					id: standartdate
					text: "Обновите информацию"
					multiline: False
					size_hint: (.5, .05)
					pos_hint:{"center_x":.3,"center_y":.6}
				Button:
					border: 0,0,0,0
					text: root.t_save
					font_size: "22sp"
					pos_hint: {'center_x': .75, 'center_y': .8}
					size_hint: (.4, .10)
					background_normal: "src/img/but.png"
					background_down: "src/img/butp.png"
					on_release:
						root.change_popup_name(True)
				Button:
					border: 0,0,0,0
					text: root.t_add_date
					font_size: "16sp"
					pos_hint: {'center_x': .75, 'center_y': .7}
					size_hint: (.4, .10)
					background_normal: "src/img/but.png"
					background_down: "src/img/butp.png"
					on_release:
						root.add_entry()
				Button:
					border: 0,0,0,0
					text: root.t_manage_ean
					font_size: "16sp"
					pos_hint: {'center_x': .75, 'center_y': .6}
					size_hint: (.4, .10)
					background_normal: "src/img/but.png"
					background_down: "src/img/butp.png"
					on_release:
						root.manage_eans()
				Button:
					border: 0,0,0,0
					text: root.t_delete_article
					font_size: "18sp"
					pos_hint: {'center_x': .75, 'center_y': .1}
					size_hint: (.5, .12)
					background_normal: "src/img/but.png"
					background_down: "src/img/butp.png"
					on_release:
						root.del_ask()
				ScrollView:
					size_hint_x: .95
					size_hint_y: .35
					pos_hint: {'center_x': .5, 'center_y': .35}
					GridLayout:
						id: griddy2
						canvas:
							Rectangle:
								pos: self.pos
								size: self.size
								source: "src/img/cleanbl.png"
						spacing: 2
						cols: 3
						size_hint_y: None
						height: 0
				Button:
					border: 0,0,0,0
					pos_hint: {'center_x': .2, 'center_y': .1}
					size_hint: (.24, .15)
					background_normal: "src/img/arrow_previous.png"
					background_down: "src/img/butp.png"
					on_release:
						root.start_one()
						root.ids.mana.current = "information"
		Screen:
			name: 'settings'
			FloatLayout:
				id: canvas
				canvas:
					Color:
						rgb: .886, .949, .671
					Rectangle:
						size: self.size
						pos: self.pos
				Label:
					halign: 'center'
					valign: "middle"
					text: 'Настройки'
					text_size: self.size
					size_hint: (.8, .07)
					color: 0, 0, 0, 1
					font_size: "28sp"
					pos_hint: {'center_x': .5, 'center_y': .93}
				Button:
					border: 0,0,0,0
					text: root.t_language
					font_size: "22sp"
					pos_hint: {'center_x': .5, 'center_y': .8}
					size_hint: (.65, .12)
					background_normal: "src/img/but.png"
					background_down: "src/img/butp.png"
					on_release: root.ids.mana.current = "language"
				Button:
					border: 0,0,0,0
					text: root.t_sync
					font_size: "22sp"
					pos_hint: {'center_x': .5, 'center_y': .68}
					size_hint: (.65, .12)
					background_normal: "src/img/but.png"
					background_down: "src/img/butp.png"
					on_release:
						root.is_user_already_logged()
				Button:
					border: 0,0,0,0
					text: root.t_delete_database
					font_size: "22sp"
					pos_hint: {'center_x': .5, 'center_y': .56}
					size_hint: (.65, .12)
					background_normal: "src/img/but.png"
					background_down: "src/img/butp.png"
					on_release:
						root.are_you_sure()
				Button:
					border: 0,0,0,0
					text: root.t_delete_effects
					font_size: "22sp"
					pos_hint: {'center_x': .5, 'center_y': .44}
					size_hint: (.65, .12)
					background_normal: "src/img/but.png"
					background_down: "src/img/butp.png"
					on_release:
						root.delete_effect()
		Screen:
			name: 'old_arts'
			FloatLayout:
				id: canvas
				canvas:
					Color:
						rgb: .886, .949, .671
					Rectangle:
						size: self.size
						pos: self.pos
				Label:
					halign: 'center'
					valign: "middle"
					text: 'Просроченные артикулы'
					text_size: self.size
					size_hint: (.8, .07)
					color: 0, 0, 0, 1
					font_size: "28sp"
					pos_hint: {'center_x': .5, 'center_y': .97}
				ScrollView:
					size_hint_x: .95
					size_hint_y: .8
					pos_hint: {'center_x': .5, 'center_y': .55}
					GridLayout:
						orientation: "vertical"
						id: griddy_trash
						canvas:
							Color:
								rgb: .886, .949, .671
							Rectangle:
								pos: self.pos
								size: self.size
						row_default_height: root.height/10
						spacing: 1
						cols: 1
						size_hint_y: None
						height:0
				Button:
					pos_hint: {'center_x':.5, 'center_y': .1}
					size_hint: (.5, .12)
					on_release:
						root.old_trash_out()
		Screen:
			name: 'sync_data'
			FloatLayout:
				id: canvas
				canvas:
					Color:
						rgb: .886, .949, .671
					Rectangle:
						size: self.size
						pos: self.pos

				TextInput:
					font_size: "24sp"
					id: group_name
					hint_text: root.t_group_name
					multiline: False
					size_hint: (.8, .08)
					pos_hint: {'center_x': .5, 'center_y': .75}
				TextInput:
					font_size: "24sp"
					id: group_password
					password: True
					hint_text: root.t_password
					multiline: False
					size_hint: (.8, .08)
					pos_hint: {'center_x': .5, 'center_y': .65}
				Button:
					border: 0,0,0,0
					text: root.t_enter
					font_size: "22sp"
					pos_hint: {'center_x': .5, 'center_y': .5}
					size_hint: (.65, .1)
					background_normal: "src/img/but.png"
					background_down: "src/img/butp.png"
					on_release:
						root.try_to_log_in(group_name.text, group_password.text)
				Button:
					border: 0,0,0,0
					text: root.t_create_group
					font_size: "22sp"
					pos_hint: {'center_x': .5, 'center_y': .4}
					size_hint: (.65, .1)
					background_normal: "src/img/but.png"
					background_down: "src/img/butp.png"
					on_release:
						root.create_new_group(group_name.text, group_password.text)
		Screen:
			name: 'new_group_nickname'
			FloatLayout:
				id: canvas
				canvas:
					Color:
						rgb: .886, .949, .671
					Rectangle:
						size: self.size
						pos: self.pos

			TextInput:
				font_size: "24sp"
				id: new_nickname
				hint_text: root.t_create_user
				multiline: False
				size_hint: (.8, .08)
				pos_hint: {'center_x': .5, 'center_y': .75}
			Button:
				text: root.t_create
				border: 0,0,0,0
				font_size: "22sp"
				pos_hint: {'center_x': .5, 'center_y': .65}
				size_hint: (.65, .1)
				background_normal: "src/img/but.png"
				background_down: "src/img/butp.png"
				on_release:
					root.new_group_new_user(new_nickname.text)
		Screen:
			name: 'ask_nickname'
			FloatLayout:
				id: canvas
				canvas:
					Color:
						rgb: .886, .949, .671
					Rectangle:
						size: self.size
						pos: self.pos

			TextInput:
				font_size: "24sp"
				id: nickname
				hint_text: root.t_user_name
				multiline: False
				size_hint: (.8, .08)
				pos_hint: {'center_x': .5, 'center_y': .75}
			Button:
				text: root.t_enter
				border: 0,0,0,0
				font_size: "22sp"
				pos_hint: {'center_x': .5, 'center_y': .65}
				size_hint: (.65, .1)
				background_normal: "src/img/but.png"
				background_down: "src/img/butp.png"
				on_release:
					root.is_user_here(nickname.text)
			Button:
				text: root.t_create
				border: 0,0,0,0
				font_size: "22sp"
				pos_hint: {'center_x': .5, 'center_y': .55}
				size_hint: (.65, .1)
				background_normal: "src/img/but.png"
				background_down: "src/img/butp.png"
				on_release:
					root.new_group_new_user(nickname.text)
		Screen:
			name: 'group_home'
			FloatLayout:
				id: float_group_home
				canvas:
					Color:
						rgb: .886, .949, .671
					Rectangle:
						size: self.size
						pos: self.pos

				Label:
					id: nothing_to_show
					canvas.before:
						Color:
							rgba: root.group_home_nothing_color
						Rectangle:
							pos: self.pos
							size: self.size
					size_hint: (.95, .5)
					pos_hint:{"center_x":.5,"center_y":.5}
					font_size: "25sp"
				Label:
					canvas.before:
						Color:
							rgba: .53, .70, .18, .3
						Rectangle:
							pos: self.pos
							size: self.size
					size_hint: (1, .15)
					pos_hint:{"center_x":.5,"center_y":.9}
				Label:
					canvas.before:
						Color:
							rgba: .53, .70, .18, .3
						Rectangle:
							pos: self.pos
							size: self.size
					size_hint: (1, .05)
					pos_hint:{"center_x":.5,"center_y":.79}
					text: root.t_your_sync
					color: 1,0,1,1
					font_size: "25sp"
				ScrollView:
					size_hint_x: .95
					size_hint_y: .5
					pos_hint: {'center_x': .5, 'center_y': .5}
					BoxLayout:
						orientation: "vertical"
						id: grid_internet_change
						canvas:
							Color:
								rgb: .886, .949, .671
							Rectangle:
								pos: self.pos
								size: self.size

						spacing: 2
						cols: 1
						size_hint_y: None
						height: 0
				Label:
					size: self.texture_size
					text: root.current_group
					font_size: "40sp"
					pos_hint:{"center_x":.5,"center_y":.9}
				Label:
					size: self.texture_size
					text: root.t_group
					color: 1,0,1,1
					font_size: "25sp"
					pos_hint:{"center_x":.5,"center_y":.95}
				Label:
					size: self.texture_size
					text: root.current_user
					color: 1,0,1,1
					font_size: "21sp"
					pos_hint:{"center_x":.5,"center_y":.85}
				Button:
					text: root.t_sync
					border: 0,0,0,0
					font_size: "22sp"
					pos_hint: {'center_x': .5, 'center_y': .19}
					size_hint: (.65, .1)
					background_normal: "src/img/but.png"
					background_down: "src/img/butp.png"
					on_release: root.prepare_to_internet_sync()
					on_release: root.while_loading()
				Button:
					text: root.t_exit
					border: 0,0,0,0
					font_size: "22sp"
					pos_hint: {'center_x': .32, 'center_y': .09}
					size_hint: (.325, .1)
					background_normal: "src/img/but.png"
					background_down: "src/img/butp.png"
					on_release: root.exit_group()
				Button:
					text: root.t_delete
					border: 0,0,0,0
					font_size: "22sp"
					pos_hint: {'center_x': .68, 'center_y': .09}
					size_hint: (.325, .1)
					background_normal: "src/img/but_red.png"
					background_down: "src/img/butp.png"
					on_release: root.delete_user()
		Screen:
			name: 'language'
			FloatLayout:
				canvas:
					Color:
						rgb: .886, .949, .671
					Rectangle:
						size: self.size
						pos: self.pos

				ToggleButton:
					id: russian_button
					allow_no_selection: False
					group: 'lang_lang'
					state: 'down'
					text: 'Русский'
					pos_hint: {'center_x': .5, 'center_y': .79}
					size_hint: (.65, .1)
					on_press: root.lang = 'ru'
					on_press: root.change_lang('ru')
					on_press: root.set_lang('ru')
				ToggleButton:
					id: english_button
					allow_no_selection: False
					group: 'lang_lang'
					text: 'English'
					pos_hint: {'center_x': .5, 'center_y': .89}
					size_hint: (.65, .1)
					on_press: root.lang = 'eng'
					on_press: root.change_lang('eng')
					on_press: root.set_lang('eng')
	BoxLayout:
		size_hint_y: 8
		canvas.before:
			Color:
				rgba: .733, .855, .463, .95
			Rectangle:
				pos: self.pos
				size: self.size
		ToggleButton:
			id: fi
			border: 0,0,0,0
			allow_no_selection: False
			background_normal: 'src/img/work_1.png'
			background_down: 'src/img/work_2.png'
			group: 'test'
			state: 'down'
			on_press: root.ids.mana.current = "work"
		ToggleButton:
			id: se
			border: 0,0,0,0
			allow_no_selection: False
			background_normal: 'src/img/DB_1.png'
			background_down: 'src/img/DB_2.png'
			group: 'test'
			on_press: root.ids.mana.current = "database"
		ToggleButton:
			id: th
			border: 0,0,0,0
			allow_no_selection: False
			background_normal: 'src/img/today_1.png'
			background_down: 'src/img/today_2.png'
			group: 'test'
			on_press: root.show_rangers(False)
			on_press: root.ids.bom_bom_bom.state = 'down'
			on_press: root.ids.bom_bom_bom2.state = 'normal'
			on_press: root.ids.bom_bom_bom3.state = 'normal'
			on_press: root.show_el(False)
			on_press: root.reshape_today_scroll('today')
			on_press: root.define_today_art('today')
		ToggleButton:
			id: fo
			border: 0,0,0,0
			allow_no_selection: False
			background_normal: 'src/img/settings_1.png'
			background_down: 'src/img/settings_2.png'
			group: 'test'
			on_press: root.ids.mana.current = "settings"